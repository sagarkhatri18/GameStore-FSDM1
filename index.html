<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameStore - Home</title>

    <!--
        Project Name: GameStore Online Gaming Platform
        Author: Sagar Khatri and Basanta Shahi
        Date: 12/01/2022
        File Name: index.html
    -->

    <!-- SEO meta imports -->
    <meta name="keywords" content="GameStore, Gaming, Electronics, Online, Play Ststion, xbox">
    <meta name="description" content="Online gaming site with lot of funs including everyday flash sale">
    <meta name="author" content="Sagar Khatri, Basanta Shahi">

    <!-- linking to the google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- importing required fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cuprum:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,300;0,400;0,500;0,600;1,100;1,200;1,300&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Livvic:wght@200;300;400;500&display=swap" rel="stylesheet">

    <!-- linking to the font awesome link for website icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">

    <!-- importing grid-framework.css -->
    <link rel="stylesheet" href="assets/css/grid.css">

    <!-- importing style.css -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

    <!-- external javascript link -->
    <script src="./script.js"></script>
</head>

<!-- body opens -->

<body id="home_section">
    <!-- navigation bar section -->
    <nav class="navbar">
        <div class="navbar-container container">
            <input type="checkbox" name="hamburger-checkbox" id="hamburger-checkbox">
            <div class="hamburger-lines">
                <span class="line line1"></span>
                <span class="line line2"></span>
                <span class="line line3"></span>
            </div>
            <!-- menu items for navigation bar -->
            <ul class="menu-items">
                <li><a href="index.html">Home</a></li>
                <li><a href="index.html">Category</a></li>
                <li><a href="index.html">About</a></li>
                <li><a href="index.html">Contact Us</a></li>
                <li><a href="javascript:void(0)" id="sign_in_menu">Sign In</a></li>
                <li><a href="cart.html">Cart <span id="cart_counter"></span></a></li>
            </ul>
            <h1 class="logo">
                <a href="#home_section"><span class="first_color">Game</span><span class="second_color">Store</span></a>
            </h1>
        </div>
    </nav>

    <!-- banner slider section -->
    <div class="banner-slider">
        <div class="banner-slider-wrap">
            <div class="container">
                <div class="item">
                    <div class="row">
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="content">
                                <h2>
                                    Hot New Games
                                </h2>
                                <p>Great new games we think they'll love.</p>
                                <!-- <a href="#category_section" class="shop-now-btn btn">
                                    Shop Now
                                </a> -->
                                <button type="button" class="btn btn-success">Shop Now</button>
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="image">
                                <img src="assets/images/gaming.jpg" alt="Main Slider Image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- search bar section -->
    <!-- <div class="ads-section"> -->
    <div class="container">
        <div class="row">
            <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12"></div>
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                <form>
                    <input type="search" placeholder="What are you looking for?">
                    <button type="submit">Search</button>
                </form>
            </div>
            <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12"></div>
        </div>
    </div>
    <!-- </div> -->

    <!-- ads section -->
    <!-- <div class="ads-section"> -->
    <div class="container">
        <div class="ads-img">
            <img src="assets/images/banner.svg" alt="Banner Ads">
        </div>
    </div>
    <!-- </div> -->

    <!-- Category Section -->
    <section id="category_section" class="product-section">
        <div class="product-section-wrap">
            <div class="container">
                <div class="heading-section">
                    <div class="mx-auto text-center">
                        <h1 class="main-title">
                            <span class="first_color">Category</span>
                        </h1>
                    </div>
                </div>
                <div class="category-list product-list">
                    <div class="row" id="categories"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Flash Sale Section -->
    <span id="append"></span>


    <!-- About Us Section -->
    <section id="about_us_section" class="product-section">
        <div class="product-section-wrap">
            <div class="container">
                <div class="heading-section">
                    <div class="mx-auto text-center">
                        <h1 class="main-title">
                            <span class="first_color">About</span> <span class="second_color">Us</span>
                        </h1>
                        <span class="sub-title justify-text">
                            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
                        </span>
                    </div>
                </div>
                <div class="product-list">
                    <div class="row">

                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Us Section -->
    <section id="contact_us_section" class="product-section">
        <div class="product-section-wrap">
            <div class="container">
                <div class="heading-section">
                    <div class="mx-auto text-center">
                        <h1 class="main-title">
                            <span class="first_color">Contact</span>
                            <span class="second_color">Us</span>
                        </h1>
                    </div>
                </div>
                <div class="product-list">
                    <div class="row">
                        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-xs-12">
                            <div class="single-product">
                                <div class="desc text-center">
                                    <h4 class="product-title">
                                        Mississauga Store
                                    </h4>
                                    <br>
                                    <p><i class="fa fa-phone"></i> <a href="tel:+14372549777">+14372549777</a></p>
                                    <p><i class="fa fa-envelope"></i> <a href="mailto:mississauga@gamestore.com">mississauga@gamestore.com</a></p>
                                    <p><i class="fa fa-location"></i> 74 Saint Barbara Blvd., Mississauga, ON</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-xs-12">
                            <div class="single-product">
                                <div class="desc text-center">
                                    <h4 class="product-title">
                                        Brampton Store
                                    </h4>
                                    <br>
                                    <p><i class="fa fa-phone"></i> <a href="tel:+14372549778">+14372549778</a></p>
                                    <p><i class="fa fa-envelope"></i> <a href="mailto:brampton@gamestore.com">brampton@gamestore.com</a></p>
                                    <p><i class="fa fa-location"></i> 27 Church St W, Brampton, ON</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-xs-12">
                            <div class="single-product">
                                <div class="desc text-center">
                                    <h4 class="product-title">
                                        Hamilton Store
                                    </h4>
                                    <br>
                                    <p><i class="fa fa-phone"></i> <a href="tel:+14372549779">+14372549779</a></p>
                                    <p><i class="fa fa-envelope"></i> <a href="mailto:hamilton@gamestore.com">hamilton@gamestore.com</a></p>
                                    <p><i class="fa fa-location"></i> 36 Hunter St E, Hamilton, ON</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-xs-12">
                            <div class="single-product">
                                <div class="desc text-center">
                                    <h4 class="product-title">
                                        Toronto Store
                                    </h4>
                                    <br>
                                    <p><i class="fa fa-phone"></i> <a href="tel:+14372549770">+14372549770</a></p>
                                    <p><i class="fa fa-envelope"></i> <a href="mailto:toronto@gamestore.com">toronto@gamestore.com</a></p>
                                    <p><i class="fa fa-location"></i> 140 Bay St., Toronto, ON</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- footer section -->
    <div class="footer">
        <div class="top-footer">
            <div class="container">
                <div class="footer-inner">
                    <div class="row">
                        <div class="logo-side col-xl-3 col-lg-3 col-md-6 col-sm-6">
                            <div class="image">
                                <h2>GameStore</h2>
                            </div>
                            <div class="content">
                                <p>We provide quality products and are authorized gaming suppliers.We provide quality products and are authorized gaming suppliers.</p>
                            </div>
                        </div>
                        <div class="categories col-xl-3 col-lg-3 col-md-6 col-sm-6">
                            <h3>Quick Links</h3>
                            <ul>
                                <li><a href="#home_section">Home</a></li>
                                <li><a href="#about_us_section">About Us</a></li>
                                <li><a href="#contact_us_section">Contact Us</a></li>
                                <li><a href="#">Locations</a></li>
                            </ul>
                        </div>
                        <div class="categories col-xl-3 col-lg-3 col-md-6 col-sm-6">
                            <h3>Other Pages</h3>
                            <ul>
                                <li><a href="faq.html">FAQ Section</a></li>
                                <li><a href="#">Shipping & Delivery</a></li>
                                <li><a href="#">Warranties</a></li>
                                <li><a href="#">Pre-Orders</a></li>
                            </ul>
                        </div>
                        <div class="form-side categories col-xl-3 col-lg-3 col-md-6 col-sm-6">
                            <h3>Newsletter</h3>
                            <p>We provide quality products and are authorized gaming suppliers. We provide quality products and are authorized gaming suppliers.</p>
                            <input type="text" class="form-control text-center" placeholder="Type Your Email">
                            <div class="btn-wrap text-center">
                                <a href="#">SUBSCRIBE TO NEWSLETTER</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-footer">
            <div class="container">
                <div class="copyright-text text-center">
                    <p>&copy; GameStore | All Right Reserved 2022</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Login Form</h5>
                    <button type="button" class="mt-0 modal-close-button btn btn-primary" data-bs-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="email_address">Email address <span class="text-danger">*</span></label>
                        <input type="email" class="form-control" id="email_address" name="email_address" placeholder="Enter email">
                        <span class="text-danger"></span>
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="password">Password <span class="text-danger">*</span></label>
                        <input type="password" class="form-control" id="password" name="password" placeholder="Password">
                        <span class="text-danger"></span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="login-submit" class="btn btn-primary">Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>


    <script>
        $(() => {
            $.ajax({
                url: './data/data.json',
                dataType: 'json',
                success: function(data) {
                    displayCategories(data.category)
                    displayMainContent(data.sales)
                },
                fail: function(err) {
                    console.log(err)
                }
            });

            var credentials = [];
            $.ajax({
                url: './data/login.json',
                dataType: 'json',
                success: function(data) {
                    credentials.push(data.users)
                },
                fail: function(err) {
                    console.log(err)
                }
            });


            var checkLoggedIn = localStorage.getItem('loggedIn')

            $('#sign_in_menu').html(checkLoggedIn === 'true' ? 'Logout' : 'Sign In')

            $('#sign_in_menu').on('click', function() {
                if (checkLoggedIn === 'true') {
                    logout()
                } else {
                    $("#exampleModal").modal('show')
                }
            })

            $('#login-submit').on('click', function() {
                var email = $(`#email_address`);
                var password = $(`#password`);
                var isInputset = !(email.val() == "" || password.val() == "")

                email.next().html(email.val() == "" ? 'This field is required' : '')
                password.next().html(password.val() == "" ? 'This field is required' : '')

                if (isInputset) {
                    var bothMatch = false;
                    $.each(credentials[0], function(key, val) {
                        if (val.email_address == email.val() && val.password == password.val()) {
                            return bothMatch = true;
                        }
                    });

                    password.next().html(!bothMatch ? 'Sorry, wrong e-mail address or password' : '')
                    if (bothMatch) {
                        localStorage.setItem('loggedIn', true)
                        window.location.reload();
                    } else {
                        localStorage.setItem('loggedIn', false)
                    }
                }
            })

        })

        function logout() {
            localStorage.setItem('loggedIn', false)
            window.location.reload();
        }

        displayMainContent = (data) => {
            var appendData = ``;

            data.forEach((element) => {
                appendData += `
                        <section id="flash_sale_section" class="product-section">
                        <div class="product-section-wrap">
                            <div class="container">
                                <div class="heading-section">
                                    <div class="mx-auto text-center">
                                        <h1 class="main-title">
                                            <span class="first_color">${element.title}</span>
                                        </h1>
                                    </div>
                                </div>
                                <div class="product-list">
                                    <div class="row">`;
                (element.items).forEach((item) => {
                    appendData += `
                                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-xs-6">
                                        <div class="single-product">
                                            <a href="description.html?id=${item.id}" onclick='addDesc(${JSON.stringify(item)})'>
                                                <div class="image">
                                                    <img src="${item.img.src}" alt="${item.img.alt}">
                                                    <div class="offer">
                                                        <span class="off">-30%</span>`;
                    if (item.new)
                        appendData += `<span class="sale">New!</span>`;
                    appendData += `</div>
                                                </div>
                                            </a>
                                            <div class="desc text-center">
                                                <a href="description.html?id=${item.id}" onclick='addDesc(${JSON.stringify(item)})'>
                                                    <h4 class="product-title">
                                                        ${item.name}
                                                    </h4>
                                                    <div class="price">
                                                        <span>$${item.price.sale}</span>
                                                        <del>
                                                        $${item.price.original}
                                                    </del>
                                                    </div>
                                                </a>
                                                <div class="select-options-outer-wrap">
                                                    <div class="select-options">
                                                        <span class="select-options-wrap">
                                                        <span class="text" role="button" onclick='addToCart(${JSON.stringify(item)})'> Add To Cart <i class="fa-solid fa-cart-shopping"></i></span>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            `;
                });

                appendData += `</div>
                                </div>
                        `;
            });

            $("#append").html(appendData);
        }

        displayCategories = (data) => {
            var categoriesDiv = document.getElementById("categories");
            var appendData = ``;

            data.forEach((element) => {
                appendData += `
                <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-xs-4">
                    <div class="single-product">
                        <div class="image">
                            <img src="${element.src}" alt="${element.alt}">
                        </div>
                        <div class="desc text-center">
                            <h4 class="product-title">
                                ${element.name}
                            </h4>
                        </div>
                    </div>
                </div>
                `;
            });

            categoriesDiv.innerHTML = appendData;
        }

        addDesc = (item) => {
            localStorage.setItem("clicked_product", JSON.stringify(item));
        }

        addToCart = (item) => {
            checkAndSetItemToCart(item)
        }
    </script>
</body>
<!-- body close -->

</html>